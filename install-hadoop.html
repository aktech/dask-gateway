

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Install on a Hadoop Cluster &mdash; Dask Gateway 0.9.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script src="_static/js/custom.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/style.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/explore.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/nbsphinx.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Install on a Kubernetes Cluster" href="install-kube.html" />
    <link rel="prev" title="Install Locally (Quickstart)" href="install-local.html" />
  <link rel="shortcut icon" href="_static/images/favicon.ico"/>
  
  <meta name="Description" content="Install on a Hadoop Cluster">
  <meta property="og:description" content="Install on a Hadoop Cluster">
  <meta name="twitter:description" content="Install on a Hadoop Cluster" />
  <meta property="og:title" content="Dask Gateway 0.9.0 documentation - Install on a Hadoop Cluster">
  <meta property="og:image" content="https://github.com/dask.png">
  <meta property="og:image:secure_url" content="https://github.com/dask.png" />
  <meta property="og:image:type" content="image/png" />
  <meta property="og:image:width" content="380" />
  <meta property="og:image:height" content="380" />
  <meta property="og:url" content="install-hadoop.html">
  <meta property="og:site_name" content="Dask Gateway 0.9.0 documentation">

  <meta name="twitter:site" content="https://dask.org" />
  <meta name="twitter:creator" content="@dask_dev" />
  <meta name="twitter:card" content="summary">
  <meta name="twitter:image" content="https://github.com/dask.png" />
  <meta name="twitter:image:alt" content="Dask Gateway 0.9.0 documentation">
  

</head>

<body class="wy-body-for-nav">

  
    <nav id="explore-links">
        <a href="https://docs.dask.org/">
        <img class="caption" src="_static/images/dask-horizontal-white.svg"/>
        </a>

        <ul>
        <li>
            <a>Get Started</a>
            <ul>
            <li><a href="https://docs.dask.org/en/latest/install.html"> Install </a></li>
            <li><a href="https://examples.dask.org"> Examples </a></li>
            <li><a href="https://github.com/dask/dask-tutorial"> Tutorial </a></li>
            <li><a href="https://docs.dask.org/en/latest/why.html"> Why Dask? </a></li>
            <li><a href="https://stories.dask.org/en/latest"> Use Cases </a></li>
            <li><a href="https://www.youtube.com/watch?v=RA_2qdipVng&list=PLRtz5iA93T4PQvWuoMnIyEIz1fXiJ5Pri"> Talks </a></li>
            <li><a href="https://mybinder.org/v2/gh/dask/dask-examples/master?urlpath=lab"> Try Online </a></li>
            <li><a href="https://dask.org/slides"> Slides </a></li>
            </ul>
        </li>

        <li>
            <a href="">Algorithms</a>
            <ul>
            <li><a href="https://docs.dask.org/en/latest/array.html">Arrays</a></li>
            <li><a href="https://docs.dask.org/en/latest/dataframe.html">Dataframes</a></li>
            <li><a href="https://docs.dask.org/en/latest/bag.html">Bags</a></li>
            <li><a href="https://docs.dask.org/en/latest/delayed.html">Delayed (custom)</a></li>
            <li><a href="https://docs.dask.org/en/latest/futures.html">Futures (real-time)</a></li>
            <li><a href="http://ml.dask.org">Machine Learning</a></li>
            <li><a href="https://xarray.pydata.org/en/latest/">XArray</a></li>
            </ul>
        </li>

        <li>
            <a href="https://docs.dask.org/en/latest/setup.html">Setup</a>
            <ul>
            <li><a href="https://docs.dask.org/en/latest/setup/single-machine.html"> Local </a></li>
            <li><a href="https://docs.dask.org/en/latest/setup/cloud.html"> Cloud </a></li>
            <li><a href="https://docs.dask.org/en/latest/setup/hpc.html"> HPC </a></li>
            <li><a href="https://kubernetes.dask.org/en/latest/"> Kubernetes </a></li>
            <li><a href="https://yarn.dask.org/en/latest/"> Hadoop / Yarn </a></li>
            </ul>
        </li>

        <li>
            <a>Community</a>
            <ul>
            <li><a href="http://docs.dask.org/en/latest/support.html">Ask for Help</a></li>
            <li><a href="https://github.com/dask">Github</a></li>
            <li><a href="https://stackoverflow.com/questions/tagged/dask">Stack Overflow</a></li>
            <li><a href="https://twitter.com/dask_dev">Twitter</a></li>
            <li><a href="https://blog.dask.org/"> Developer Blog </a></li>
            <li><a href="https://youtube.com/c/dask-dev"> YouTube Channel </a></li>
            </ul>
        </li>
        </ul>

    </nav>
  
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Dask Gateway
          

          
          </a>

          
            
            
              <div class="version">
                0.9.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p><span class="caption-text">For Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install-user.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration-user.html">Configuration</a></li>
</ul>
<p><span class="caption-text">Admin - Installation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install-local.html">Install Locally (Quickstart)</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Install on a Hadoop Cluster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-a-user-account">Create a user account</a></li>
<li class="toctree-l2"><a class="reference internal" href="#enable-proxy-user-permissions">Enable proxy-user permissions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#create-install-directories">Create install directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-a-python-environment">Install a python environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-dask-gateway-server">Install dask-gateway-server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configure-dask-gateway-server">Configure dask-gateway-server</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enable-yarn-integration">Enable YARN integration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#enable-kerberos-security-optional">Enable kerberos security (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configure-the-server-addresses-optional">Configure the server addresses (optional)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#specify-user-python-environments">Specify user python environments</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#using-a-local-environment">Using a local environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#using-an-archived-environment">Using an archived environment</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#additional-configuration-options">Additional configuration options</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#open-relevant-port-s">Open relevant port(s)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#start-dask-gateway-server">Start dask-gateway-server</a></li>
<li class="toctree-l2"><a class="reference internal" href="#validate-things-are-working">Validate things are working</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install-kube.html">Install on a Kubernetes Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-jobqueue.html">Install on an HPC Job Queue</a></li>
</ul>
<p><span class="caption-text">Admin - Customization</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="authentication.html">Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="cluster-options.html">Exposing Cluster Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource-limits.html">Cluster Resource Limits</a></li>
</ul>
<p><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api-client.html">Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-server.html">Configuration Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="develop.html">Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Dask Gateway</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Install on a Hadoop Cluster</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/install-hadoop.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="install-on-a-hadoop-cluster">
<h1>Install on a Hadoop Cluster<a class="headerlink" href="#install-on-a-hadoop-cluster" title="Permalink to this headline">¶</a></h1>
<p>Here we provide instructions for installing and configuring
<code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> on a <a class="reference external" href="https://hadoop.apache.org/">Hadoop Cluster</a>.</p>
<section id="create-a-user-account">
<h2>Create a user account<a class="headerlink" href="#create-a-user-account" title="Permalink to this headline">¶</a></h2>
<p>Before installing anything, you’ll need to create the user account which will
be used to run the <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> process. The name of the user
doesn’t matter, only the permissions they have. Here we’ll use <code class="docutils literal notranslate"><span class="pre">dask</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ adduser dask
</pre></div>
</div>
</section>
<section id="enable-proxy-user-permissions">
<h2>Enable proxy-user permissions<a class="headerlink" href="#enable-proxy-user-permissions" title="Permalink to this headline">¶</a></h2>
<p>Dask-Gateway makes full use of Hadoop’s security model, and will start Dask
workers in containers with the requesting user’s permissions (e.g. if <code class="docutils literal notranslate"><span class="pre">alice</span></code>
creates a cluster, their dask workers will be running as user <code class="docutils literal notranslate"><span class="pre">alice</span></code>).  To
accomplish this, the gateway server needs <a class="reference external" href="https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/Superusers.html">proxy-user</a> permissions. This
allows the Dask-Gateway server to perform actions impersonating another user.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> to work properly, you’ll need to enable
<a class="reference external" href="https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/Superusers.html">proxy-user</a> permissions for the <code class="docutils literal notranslate"><span class="pre">dask</span></code> user account. The users <code class="docutils literal notranslate"><span class="pre">dask</span></code> has
permission to impersonate can be restricted to certain groups, and requests to
impersonate may be restricted to certain hosts. At a minimum, the <code class="docutils literal notranslate"><span class="pre">dask</span></code> user
will require permission to impersonate anyone using the gateway, with requests
allowed from at least the host running the <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code>.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;property&gt;</span>
  <span class="nt">&lt;name&gt;</span>hadoop.proxyuser.dask.hosts<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;value&gt;</span>host-where-dask-gateway-is-running<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;property&gt;</span>
  <span class="nt">&lt;name&gt;</span>hadoop.proxyuser.dask.groups<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;value&gt;</span>group1,group2<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
</pre></div>
</div>
<p>If looser restrictions are acceptable, you may also use the wildcard <code class="docutils literal notranslate"><span class="pre">*</span></code>
to allow impersonation of any user or from any host.</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;property&gt;</span>
  <span class="nt">&lt;name&gt;</span>hadoop.proxyuser.dask.hosts<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;property&gt;</span>
  <span class="nt">&lt;name&gt;</span>hadoop.proxyuser.dask.groups<span class="nt">&lt;/name&gt;</span>
  <span class="nt">&lt;value&gt;</span>*<span class="nt">&lt;/value&gt;</span>
<span class="nt">&lt;/property&gt;</span>
</pre></div>
</div>
<p>See the <a class="reference external" href="https://hadoop.apache.org/docs/current/hadoop-project-dist/hadoop-common/Superusers.html">proxy-user</a> documentation for more information.</p>
</section>
<section id="create-install-directories">
<h2>Create install directories<a class="headerlink" href="#create-install-directories" title="Permalink to this headline">¶</a></h2>
<p>A <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> installation has three types of files which will need
their own directories created before installation:</p>
<ul class="simple">
<li><p>Software files: This includes a Python environment and all required
libraries. Here we use <code class="docutils literal notranslate"><span class="pre">/opt/dask-gateway</span></code>.</p></li>
<li><p>Configuration files: Here we use <code class="docutils literal notranslate"><span class="pre">/etc/dask-gateway</span></code>.</p></li>
<li><p>Runtime files: Here we use <code class="docutils literal notranslate"><span class="pre">/var/dask-gateway</span></code>.</p></li>
</ul>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Software files</span>
$ mkdir -p /opt/dask-gateway

<span class="c1"># Configuration files</span>
$ mkdir /etc/dask-gateway

<span class="c1"># Runtime files</span>
$ mkdir /var/dask-gateway
$ chown dask /var/dask-gateway
</pre></div>
</div>
</section>
<section id="install-a-python-environment">
<h2>Install a python environment<a class="headerlink" href="#install-a-python-environment" title="Permalink to this headline">¶</a></h2>
<p>To avoid interactions between the system python installation and
<code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code>, we’ll install a full Python environment into the
software directory. The easiest way to do this is to use <a class="reference external" href="https://docs.conda.io/en/latest/miniconda.html">miniconda</a>, but this
isn’t a strict requirement.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ curl https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh -o /tmp/miniconda.sh
$ bash /tmp/miniconda.sh -b -p /opt/dask-gateway/miniconda
$ rm /tmp/miniconda.sh
</pre></div>
</div>
<p>We also recommend adding miniconda to the <code class="docutils literal notranslate"><span class="pre">root</span></code> user’s path to ease further
commands.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="s1">&#39;export PATH=&quot;/opt/dask-gateway/miniconda/bin:$PATH&quot;&#39;</span> &gt;&gt; /root/.bashrc
$ <span class="nb">source</span> /root/.bashrc
</pre></div>
</div>
</section>
<section id="install-dask-gateway-server">
<h2>Install dask-gateway-server<a class="headerlink" href="#install-dask-gateway-server" title="Permalink to this headline">¶</a></h2>
<p>Now we can install <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> and its dependencies.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda install -y -c conda-forge dask-gateway-server-yarn
</pre></div>
</div>
<p>If you want to use Kerberos for user-facing authentication, you’ll also want to
install <code class="docutils literal notranslate"><span class="pre">dask-gateway-server-kerberos</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ conda install -y -c conda-forge dask-gateway-server-kerberos
</pre></div>
</div>
</section>
<section id="configure-dask-gateway-server">
<h2>Configure dask-gateway-server<a class="headerlink" href="#configure-dask-gateway-server" title="Permalink to this headline">¶</a></h2>
<p>Now we’re ready to configure our <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> installation.
Configuration is written as a Python file (typically
<code class="docutils literal notranslate"><span class="pre">/etc/dask-gateway/dask_gateway_config.py</span></code>). Options are assigned to a config
object <code class="docutils literal notranslate"><span class="pre">c</span></code>, which is then loaded by the gateway on startup. You are free to
use any python syntax/libraries in this file that you want, the only things
that matter to <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> are the values set on the <code class="docutils literal notranslate"><span class="pre">c</span></code> config
object.</p>
<p>Here we’ll walk through a few common configuration options you may want to set.</p>
<section id="enable-yarn-integration">
<h3>Enable YARN integration<a class="headerlink" href="#enable-yarn-integration" title="Permalink to this headline">¶</a></h3>
<p>First you’ll want to enable YARN as the cluster backend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure the gateway to use YARN as the backend</span>
<span class="n">c</span><span class="o">.</span><span class="n">DaskGateway</span><span class="o">.</span><span class="n">backend_class</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;dask_gateway_server.backends.yarn.YarnBackend&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="enable-kerberos-security-optional">
<h3>Enable kerberos security (optional)<a class="headerlink" href="#enable-kerberos-security-optional" title="Permalink to this headline">¶</a></h3>
<p>If your cluster has <a class="reference external" href="https://web.mit.edu/kerberos/">Kerberos</a> enabled, you’ll also need to create a principal
and keytab for the <code class="docutils literal notranslate"><span class="pre">dask</span></code> user. You’ll also need to create a <code class="docutils literal notranslate"><span class="pre">HTTP</span></code> service
principal for the host running <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> (if one doesn’t already
exist).  Keytabs can be created on the command-line as:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create the dask principal</span>
$ kadmin -q <span class="s2">&quot;addprinc -randkey dask@YOUR_REALM.COM&quot;</span>

<span class="c1"># Create the HTTP principal (if not already created)</span>
$ kadmin -q <span class="s2">&quot;addprinc -randkey HTTP/FQDN&quot;</span>

<span class="c1"># Create a keytab</span>
$ kadmin -q <span class="s2">&quot;xst -norandkey -k /etc/dask-gateway/dask.keytab dask HTTP/FQDN&quot;</span>
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">FQDN</span></code> is the <a class="reference external" href="https://en.wikipedia.org/wiki/Fully_qualified_domain_name">fully qualified domain name</a> of the host running
<code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code>.</p>
<p>Store the keytab file wherever you see fit (we recommend storing it along with
the other configuration in <code class="docutils literal notranslate"><span class="pre">/etc/dask-gateway/</span></code>, as above). You’ll also want
to make sure that <code class="docutils literal notranslate"><span class="pre">dask.keytab</span></code> is only readable by the <code class="docutils literal notranslate"><span class="pre">dask</span></code> user.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ chown dask /etc/dask-gateway/dask.keytab
$ chmod <span class="m">400</span> /etc/dask-gateway/dask.keytab
</pre></div>
</div>
<p>To configure <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> to use this keytab file, you’ll need to
add the following line to your <code class="docutils literal notranslate"><span class="pre">dask_gateway_config.py</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Specify the location of the keytab file, and the principal name</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnBackend</span><span class="o">.</span><span class="n">keytab</span> <span class="o">=</span> <span class="s2">&quot;/etc/dask-gateway/dask.keytab&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnBackend</span><span class="o">.</span><span class="n">principal</span> <span class="o">=</span> <span class="s2">&quot;dask&quot;</span>

<span class="c1"># Enable Kerberos for user-facing authentication</span>
<span class="n">c</span><span class="o">.</span><span class="n">DaskGateway</span><span class="o">.</span><span class="n">authenticator_class</span> <span class="o">=</span> <span class="s2">&quot;dask_gateway_server.auth.KerberosAuthenticator&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">KerberosAuthenticator</span><span class="o">.</span><span class="n">keytab</span> <span class="o">=</span> <span class="s2">&quot;/etc/dask-gateway/dask.keytab&quot;</span>
</pre></div>
</div>
</section>
<section id="configure-the-server-addresses-optional">
<h3>Configure the server addresses (optional)<a class="headerlink" href="#configure-the-server-addresses-optional" title="Permalink to this headline">¶</a></h3>
<p>By default, <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> will serve all traffic through
<code class="docutils literal notranslate"><span class="pre">0.0.0.0:8000</span></code>. This includes both HTTP(S) requests (REST api, dashboards,
etc…) and dask scheduler traffic.</p>
<p>If you’d like to serve at a different address, or serve web and scheduler
traffic on different ports, you can configure the following fields:</p>
<ul class="simple">
<li><p><a class="reference internal" href="api-server.html#c.Proxy.address" title="c.Proxy.address"><code class="xref py py-data docutils literal notranslate"><span class="pre">c.Proxy.address</span></code></a> - Serves HTTP(S) traffic, defaults to <code class="docutils literal notranslate"><span class="pre">:8000</span></code>.</p></li>
<li><p><a class="reference internal" href="api-server.html#c.Proxy.tcp_address" title="c.Proxy.tcp_address"><code class="xref py py-data docutils literal notranslate"><span class="pre">c.Proxy.tcp_address</span></code></a> - Serves dask client-to-scheduler tcp traffic,
defaults to <a class="reference internal" href="api-server.html#c.Proxy.address" title="c.Proxy.address"><code class="xref py py-data docutils literal notranslate"><span class="pre">c.Proxy.address</span></code></a>.</p></li>
</ul>
<p>Here we configure web traffic to serve on port 8000 and scheduler traffic to
serve on port 8001:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">address</span> <span class="o">=</span> <span class="s1">&#39;:8000&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">Proxy</span><span class="o">.</span><span class="n">tcp_address</span> <span class="o">=</span> <span class="s1">&#39;:8001&#39;</span>
</pre></div>
</div>
</section>
<section id="specify-user-python-environments">
<h3>Specify user python environments<a class="headerlink" href="#specify-user-python-environments" title="Permalink to this headline">¶</a></h3>
<p>Since the Dask workers/schedulers will be running in their own YARN containers,
you’ll need to provide a way for Python environments to be available to these
containers. You have a few options here:</p>
<ul class="simple">
<li><p>Install identical Python environments on every node</p></li>
<li><p>Archive environments to be distributed to the container at runtime (recommended)</p></li>
</ul>
<p>In either case, the Python environment requires at least the
<code class="docutils literal notranslate"><span class="pre">dask-gateway</span></code> package be installed to work properly.</p>
<section id="using-a-local-environment">
<h4>Using a local environment<a class="headerlink" href="#using-a-local-environment" title="Permalink to this headline">¶</a></h4>
<p>If you’ve installed identical Python environments on every node, you only need
to configure <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> to use the provided Python. This could be
done a few different ways:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure the paths to the dask-scheduler/dask-worker CLIs</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">scheduler_cmd</span> <span class="o">=</span> <span class="s2">&quot;/path/to/dask-scheduler&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_cmd</span> <span class="o">=</span> <span class="s2">&quot;/path/to/dask-worker&quot;</span>

<span class="c1"># OR</span>
<span class="c1"># Activate a local conda environment before startup</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">scheduler_setup</span> <span class="o">=</span> <span class="s1">&#39;source /path/to/miniconda/bin/activate /path/to/environment&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_setup</span> <span class="o">=</span> <span class="s1">&#39;source /path/to/miniconda/bin/activate /path/to/environment&#39;</span>

<span class="c1"># OR</span>
<span class="c1"># Activate a virtual environment before startup</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">scheduler_setup</span> <span class="o">=</span> <span class="s1">&#39;source /path/to/your/environment/bin/activate&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_setup</span> <span class="o">=</span> <span class="s1">&#39;source /path/to/your/environment/bin/activate&#39;</span>
</pre></div>
</div>
</section>
<section id="using-an-archived-environment">
<h4>Using an archived environment<a class="headerlink" href="#using-an-archived-environment" title="Permalink to this headline">¶</a></h4>
<p>YARN also provides mechanisms to “localize” files/archives to a container
before starting the application. This can be used to distribute Python
environments at runtime. This approach is appealing in that it doesn’t require
installing anything throughout the cluster, and allows for centrally managing
user’s Python environments.</p>
<p>Packaging environments for distribution is usually accomplished using</p>
<ul class="simple">
<li><p><a class="reference external" href="https://conda.github.io/conda-pack/">conda-pack</a> for <a class="reference external" href="http://conda.io/">conda</a> environments</p></li>
<li><p><a class="reference external" href="https://jcristharif.com/venv-pack/">venv-pack</a>  for virtual environments (both <a class="reference external" href="https://virtualenv.pypa.io/en/stable/">venv</a> and <a class="reference external" href="https://virtualenv.pypa.io/en/stable/">virtualenv</a> supported)</p></li>
</ul>
<p>Both are tools for taking an environment and creating an archive of it in a way
that (most) absolute paths in any libraries or scripts are altered to be
relocatable. This archive then can be distributed with your application, and
will be automatically extracted during <a class="reference external" href="https://hortonworks.com/blog/resource-localization-in-yarn-deep-dive/">YARN resource localization</a></p>
<p>Below we demonstrate creating and packaging a Conda environment containing
<code class="docutils literal notranslate"><span class="pre">dask-gateway</span></code>, as well as <code class="docutils literal notranslate"><span class="pre">pandas</span></code> and <code class="docutils literal notranslate"><span class="pre">scikit-learn</span></code>. Additional
packages could be added as needed.</p>
<p><strong>Packaging a conda environment with conda-pack</strong></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a folder for storing the conda environments locally</span>
$ mkdir /opt/dask-gateway/envs

<span class="c1"># Create a new conda environment</span>
$ conda create -c conda-forge -y -p /opt/dask-gateway/envs/example
...

<span class="c1"># Activate the environment</span>
$ conda activate /opt/dask-gateway/envs/example

<span class="c1"># Install dask-gateway, along with any other packages</span>
$ conda install -c conda-forge -y dask-gateway pandas scikit-learn conda-pack

<span class="c1"># Package the environment into example.tar.gz</span>
$ conda pack -o example.tar.gz
Collecting packages...
Packing environment at <span class="s1">&#39;/opt/dask-gateway/envs/example&#39;</span> to <span class="s1">&#39;example.tar.gz&#39;</span>
<span class="o">[</span><span class="c1">########################################] | 100% Completed | 17.9s</span>
</pre></div>
</div>
<p><strong>Using the packaged environment</strong></p>
<p>It is recommended to upload the environments to some directory on HDFS
beforehand, to avoid repeating the upload cost for every user. This directory
should be readable by all users, but writable only by the admin user managing
Python environments (here we’ll use the <code class="docutils literal notranslate"><span class="pre">dask</span></code> user, and create a
<code class="docutils literal notranslate"><span class="pre">/dask-gateway</span></code> directory).</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ hdfs dfs -mkdir -p /dask-gateway
$ hdfs dfs -chown dask /dask-gateway
$ hdfs dfs -chmod <span class="m">755</span> /dask-gateway
</pre></div>
</div>
<p>Uploading our already packaged environment to hdfs:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>$ hdfs dfs -put /opt/dask-gateway/envs/example.tar.gz /dask-gateway/example.tar.gz
</pre></div>
</div>
<p>To use the packaged environment with <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code>, you need to
include the archive in <code class="docutils literal notranslate"><span class="pre">YarnClusterConfig.localize_files</span></code>, and activate the
environment in
<code class="docutils literal notranslate"><span class="pre">YarnClusterConfig.scheduler_setup</span></code>/<code class="docutils literal notranslate"><span class="pre">YarnClusterConfig.worker_setup</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">localize_files</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;environment&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;hdfs:///dask-gateway/example.tar.gz&#39;</span><span class="p">,</span>
        <span class="s1">&#39;visibility&#39;</span><span class="p">:</span> <span class="s1">&#39;public&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">scheduler_setup</span> <span class="o">=</span> <span class="s1">&#39;source environment/bin/activate&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_setup</span> <span class="o">=</span> <span class="s1">&#39;source environment/bin/activate&#39;</span>
</pre></div>
</div>
<p>Note that we set <code class="docutils literal notranslate"><span class="pre">visibility</span></code> to <code class="docutils literal notranslate"><span class="pre">public</span></code> for the environment, so that
multiple users can all share the same localized environment (reducing the cost
of moving the environments around).</p>
<p>For more information, see the <a class="reference external" href="https://jcristharif.com/skein/distributing-files.html">Skein documentation on distributing files</a>.</p>
</section>
</section>
<section id="additional-configuration-options">
<h3>Additional configuration options<a class="headerlink" href="#additional-configuration-options" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> has several additional configuration fields. See the
<a class="reference internal" href="api-server.html"><span class="doc">Configuration Reference</span></a> docs (specifically <a class="reference internal" href="api-server.html#yarn-config"><span class="std std-ref">the yarn configuration docs</span></a>) for more information on all available options. At a minimum
you’ll probably want to configure the worker resource limits, as well as which
YARN queue to use.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># The resource limits for a worker</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_memory</span> <span class="o">=</span> <span class="s1">&#39;4 G&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_cores</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># The YARN queue to use</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="s1">&#39;...&#39;</span>
</pre></div>
</div>
<p>If your cluster is under high load (and jobs may be slow to start), you may
also want to increase the cluster/worker timeout values:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Increase startup timeouts to 5 min (600 seconds) each</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">cluster_start_timeout</span> <span class="o">=</span> <span class="mi">600</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_start_timeout</span> <span class="o">=</span> <span class="mi">600</span>
</pre></div>
</div>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<p>In summary, an example <code class="docutils literal notranslate"><span class="pre">dask_gateway_config.py</span></code> configuration might look
like:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Configure the gateway to use YARN as the backend</span>
<span class="n">c</span><span class="o">.</span><span class="n">DaskGateway</span><span class="o">.</span><span class="n">backend_class</span> <span class="o">=</span> <span class="p">(</span>
    <span class="s2">&quot;dask_gateway_server.backends.yarn.YarnBackend&quot;</span>
<span class="p">)</span>

<span class="c1"># Specify the location of the keytab file, and the principal name</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnBackend</span><span class="o">.</span><span class="n">keytab</span> <span class="o">=</span> <span class="s2">&quot;/etc/dask-gateway/dask.keytab&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnBackend</span><span class="o">.</span><span class="n">principal</span> <span class="o">=</span> <span class="s2">&quot;dask&quot;</span>

<span class="c1"># Enable Kerberos for user-facing authentication</span>
<span class="n">c</span><span class="o">.</span><span class="n">DaskGateway</span><span class="o">.</span><span class="n">authenticator_class</span> <span class="o">=</span> <span class="s2">&quot;dask_gateway_server.auth.KerberosAuthenticator&quot;</span>
<span class="n">c</span><span class="o">.</span><span class="n">KerberosAuthenticator</span><span class="o">.</span><span class="n">keytab</span> <span class="o">=</span> <span class="s2">&quot;/etc/dask-gateway/dask.keytab&quot;</span>

<span class="c1"># Specify location of the archived Python environment</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">localize_files</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;environment&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;source&#39;</span><span class="p">:</span> <span class="s1">&#39;hdfs:///dask-gateway/example.tar.gz&#39;</span><span class="p">,</span>
        <span class="s1">&#39;visibility&#39;</span><span class="p">:</span> <span class="s1">&#39;public&#39;</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">scheduler_setup</span> <span class="o">=</span> <span class="s1">&#39;source environment/bin/activate&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_setup</span> <span class="o">=</span> <span class="s1">&#39;source environment/bin/activate&#39;</span>

<span class="c1"># Limit resources for a single worker</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_memory</span> <span class="o">=</span> <span class="s1">&#39;4 G&#39;</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">worker_cores</span> <span class="o">=</span> <span class="mi">2</span>

<span class="c1"># Specify the YARN queue to use</span>
<span class="n">c</span><span class="o">.</span><span class="n">YarnClusterConfig</span><span class="o">.</span><span class="n">queue</span> <span class="o">=</span> <span class="s1">&#39;dask&#39;</span>
</pre></div>
</div>
</section>
</section>
<section id="open-relevant-port-s">
<h2>Open relevant port(s)<a class="headerlink" href="#open-relevant-port-s" title="Permalink to this headline">¶</a></h2>
<p>For users to access the gateway server, they’ll need access to the public
port(s) set in <a class="reference internal" href="#configure-the-server-addresses-optional">Configure the server addresses (optional)</a> above (by default
this is port <code class="docutils literal notranslate"><span class="pre">8000</span></code>). How to expose ports is system specific - cluster
administrators should determine how best to perform this task.</p>
</section>
<section id="start-dask-gateway-server">
<h2>Start dask-gateway-server<a class="headerlink" href="#start-dask-gateway-server" title="Permalink to this headline">¶</a></h2>
<p>At this point you should be able to start the gateway server as the <code class="docutils literal notranslate"><span class="pre">dask</span></code>
user using your created configuration file. The <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> process
will be a long running process - how you intend to manage it (<code class="docutils literal notranslate"><span class="pre">supervisord</span></code>,
etc…) is system specific. The requirements are:</p>
<ul class="simple">
<li><p>Start with <code class="docutils literal notranslate"><span class="pre">dask</span></code> as the user</p></li>
<li><p>Start with <code class="docutils literal notranslate"><span class="pre">/var/dask-gateway</span></code> as the working directory</p></li>
<li><p>Add <code class="docutils literal notranslate"><span class="pre">/opt/dask-gateway/miniconda/bin</span></code> to path</p></li>
<li><p>Specify the configuration file location with <code class="docutils literal notranslate"><span class="pre">-f</span> <span class="pre">/etc/dask-gateway/dask_gateway_config.py</span></code></p></li>
</ul>
<p>For ease, we recommend creating a small bash script stored at
<code class="docutils literal notranslate"><span class="pre">/opt/dask-gateway/start-dask-gateway</span></code> to set this up:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/usr/bin/env bash</span>

<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/opt/dask-gateway/miniconda/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>
<span class="nb">cd</span> /var/dask-gateway
dask-gateway-server -f /etc/dask-gateway/dask_gateway_config.py
</pre></div>
</div>
<p>For <em>testing</em> here’s how you might start <code class="docutils literal notranslate"><span class="pre">dask-gateway-server</span></code> manually:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">cd</span> /var/dask-gateway
$ sudo -iu dask /opt/dask-gateway/start-dask-gateway
</pre></div>
</div>
</section>
<section id="validate-things-are-working">
<h2>Validate things are working<a class="headerlink" href="#validate-things-are-working" title="Permalink to this headline">¶</a></h2>
<p>If the server started with no errors, you’ll want to check that things are
working properly. The easiest way to do this is to try connecting as a user.</p>
<p>A user’s environment requires the <code class="docutils literal notranslate"><span class="pre">dask-gateway</span></code> library be installed. If
your cluster is secured with kerberos, you’ll also need to install
<code class="docutils literal notranslate"><span class="pre">dask-gateway-kerberos</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># Install the dask-gateway client library</span>
$ conda create -n dask-gateway -c conda-forge dask-gateway

<span class="c1"># If kerberos is enabled, also install dask-gateway-kerberos</span>
$ conda create -n dask-gateway -c conda-forge dask-gateway-kerberos
</pre></div>
</div>
<p>You can connect to the gateway by creating a <a class="reference internal" href="api-client.html#dask_gateway.Gateway" title="dask_gateway.Gateway"><code class="xref py py-class docutils literal notranslate"><span class="pre">dask_gateway.Gateway</span></code></a>
object, specifying the public address (note that if you configured
<a class="reference internal" href="api-server.html#c.Proxy.tcp_address" title="c.Proxy.tcp_address"><code class="xref py py-data docutils literal notranslate"><span class="pre">c.Proxy.tcp_address</span></code></a> you’ll also need to specify the <code class="docutils literal notranslate"><span class="pre">proxy_address</span></code>).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">dask_gateway</span> <span class="kn">import</span> <span class="n">Gateway</span>

<span class="go"># When running without kerberos</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gateway</span> <span class="o">=</span> <span class="n">Gateway</span><span class="p">(</span><span class="s2">&quot;http://public-address&quot;</span><span class="p">)</span>

<span class="go"># OR, if kerberos is enabled, you&#39;ll need to kinit and then do</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">gateway</span> <span class="o">=</span> <span class="n">Gateway</span><span class="p">(</span><span class="s2">&quot;http://public-address&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="s2">&quot;kerberos&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You should now be able to make API calls. Try
<a class="reference internal" href="api-client.html#dask_gateway.Gateway.list_clusters" title="dask_gateway.Gateway.list_clusters"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dask_gateway.Gateway.list_clusters()</span></code></a>, this should return an empty list.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">gateway</span><span class="o">.</span><span class="n">list_clusters</span><span class="p">()</span>
<span class="go">[]</span>
</pre></div>
</div>
<p>Next, see if you can create a cluster. This may take a few minutes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span> <span class="o">=</span> <span class="n">gateway</span><span class="o">.</span><span class="n">new_cluster</span><span class="p">()</span>
</pre></div>
</div>
<p>The last thing you’ll want to check is if you can successfully connect to your
newly created cluster.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">cluster</span><span class="o">.</span><span class="n">get_client</span><span class="p">()</span>
</pre></div>
</div>
<p>If everything worked properly, you can shutdown your cluster with
<a class="reference internal" href="api-client.html#dask_gateway.GatewayCluster.shutdown" title="dask_gateway.GatewayCluster.shutdown"><code class="xref py py-meth docutils literal notranslate"><span class="pre">dask_gateway.GatewayCluster.shutdown()</span></code></a>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cluster</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</pre></div>
</div>
</section>
</section>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="install-kube.html" class="btn btn-neutral float-right" title="Install on a Kubernetes Cluster" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="install-local.html" class="btn btn-neutral float-left" title="Install Locally (Quickstart)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2021, Jim Crist-Harif

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>